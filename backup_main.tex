\RequirePackage{fix-cm}
\documentclass[ titlepage,numbers=noenddot,headinclude,
                footinclude=true,cleardoublepage=empty,abstractoff,
                BCOR=5mm,paper=letter,fontsize=12pt,
                american,
                openany
                ]{scrreprt}

\input{classicthesis-config}

% Override margins
\usepackage[left=1in,right=1in,top=1in,bottom=1in,includehead,includefoot]{geometry}


\usepackage{scrlayer-scrpage}
\usepackage{color}
\usepackage{comment}
\usepackage{multicol}
\usepackage{amssymb,mathtools,amsthm,bm,units}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{mdframed}
\usepackage{wrapfig}
\usepackage{verbatim}
\usepackage{sidecap}
\usepackage{pdfpages}
\usepackage{biblatex}

\DeclareCiteCommand{\cite}
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   \printtext[bibhyperref]{\usebibmacro{cite}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand*{\cite}
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   \printtext[bibhyperref]{\usebibmacro{citeyear}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand{\parencite}[\mkbibparens]
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
    \printtext[bibhyperref]{\usebibmacro{cite}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand*{\parencite}[\mkbibparens]
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
    \printtext[bibhyperref]{\usebibmacro{citeyear}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand{\footcite}[\mkbibfootnote]
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
  \printtext[bibhyperref]{ \usebibmacro{cite}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand{\footcitetext}[\mkbibfootnotetext]
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   \printtext[bibhyperref]{\usebibmacro{cite}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand{\textcite}
  {\boolfalse{cbx:parens}}
  {\usebibmacro{citeindex}%
   \printtext[bibhyperref]{\usebibmacro{textcite}}}
  {\ifbool{cbx:parens}
     {\bibcloseparen\global\boolfalse{cbx:parens}}
     {}%
   \multicitedelim}
  {\usebibmacro{textcite:postnote}}
\usepackage{caption}
\usepackage{subcaption}
\captionsetup{subrefformat=parens}
\usepackage{siunitx}
\usepackage{sidecap}
\usepackage{rotating}

\usepackage[capitalize]{cleveref}
\usepackage{enumitem}
%\usepackage{apacite}
\setlist{nosep}


\newmdtheoremenv{defn}{Definition}
\newmdtheoremenv{cond}{Condition}
\newmdtheoremenv{prop}{Proposition}
\newmdtheoremenv{corollary}{Corollary}
\newmdtheoremenv{theorem}{Theorem}
\newmdtheoremenv{lemma}{Lemma}

\newenvironment{customthm}[1]
{\renewcommand\theinnercustomthm{#1}\innercustomthm}
{\endinnercustomthm}
\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}

\input{dissertation/math_commands}
\newcommand{\loss}{\mathcal{L}}
\newcommand{\data}{\mathcal{D}}
\newcommand{\task}{\mathcal{T}}
\newcommand{\rtrain}{\mathrm{train}}
\newcommand{\rval}{\mathrm{val}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\model}{\hat{p}_{\vphi}}
\newcommand{\modelk}[1]{\hat{p}_{\vphi_#1}}
\newcommand{\policy}{\pi_{\vtheta}}
\newcommand{\adaptedpolicy}{\pi_{\bm{\theta'}}}
\newcommand{\adaptedpolicyk}[1]{\pi_{{\bm{\theta'}_#1}}}
\newcommand\smallO{
  \mathchoice
    {{\scriptstyle\mathcal{O}}}% \displaystyle
    {{\scriptstyle\mathcal{O}}}% \textstyle
    {{\scriptscriptstyle\mathcal{O}}}% \scriptstyle
    {\scalebox{.7}{$\scriptscriptstyle\mathcal{O}$}}%\scriptscriptstyle
}


\addbibresource{references.bib}

\begin{document}
\frenchspacing
\raggedbottom
\selectlanguage{american}

%\pagestyle{fancy}

%\pagestyle{simple}

\include{FrontBackmatter/Titlepage}
\includepdf[pages=1]{signing.pdf}
\includepdf[pages=3-4]{signing.pdf}

\setcounter{page}{1}%
\pagenumbering{roman}

% \pdfbookmark[0]{Abstract}{Abstract}
% \section*{Abstract}
% \input{abstract}
% \newpage

\pdfbookmark[0]{Acknowledgements}{Acknowledgements}
\begingroup
\let\clearpage\relax
\let\cleardoublepage\relax
\let\cleardoublepage\relax
\chapter*{Acknowledgments}
\input{acknowledgements}
\endgroup

\newpairofpagestyles[scrheadings]{firstpage}{\chead*{}\cfoot*{\pagemark}\ohead*{}}

\pagestyle{firstpage}

\include{FrontBackmatter/Contents}

\setcounter{page}{1}
\pagenumbering{arabic}

\chapter{Introduction}\label{chapter:intro}
\input{introduction}

\chapter{Problem Statement}\label{chapter:prob-statement}
\input{problem_statement}

\chapter{Model-Bias}\label{chapter:model-bias}
\input{model_bias}

\chapter{Model-Ensemble Trust-Region Policy Optimization}\label{chapter:metrpo}
\input{metrpo/metrpo}

\chapter{Model-Based Reinforcement Learning via Meta-Policy Optimization}\label{chapter:mbmpo}
\input{mbmpo/mbmpo}

\chapter{ProMP: Proximal Meta-Policy Search}\label{chapter:promp}
\input{promp/promp}

\chapter{Improving Model-Based Reinforcement Learning via Model-Augmented Pathwise Derivative}\label{chapter:maac}
\input{maac/maac}

\chapter{Asynchronous Methods for Model-Based Reinforcement Learning}\label{chapter:async}
\input{asyncmethods/asyncmethods}

\chapter{Learning to Adapt in Dynamic, Real-World Environments through Meta-Reinforcement Learning}\label{chapter:learntoadapt}
\input{learningtoadapt/learningtoadapt}

\chapter{Conclusion}
\input{conclusion}\label{chapter:conclusion}

\printbibliography

\appendix
\chapter{Appendix: Model-Ensemble Trust-Region Policy Optimization}
\input{metrpo/appendix}
\chapter{Appendix: Model-Based Reinforcement Learning via Meta-Policy Optimization}
\input{mbmpo/appendix}
\chapter{Appendix: ProMP: Proximal Meta-Policy Search}
\input{promp/appendix}
\chapter{Appendix: Improving Model-Based Reinforcement Learning via Model-Augmented Pathwise Derivative}
\input{maac/appendix}
\chapter{Appendix: Learning to Adapt in Dynamic, Real-World Environments through Meta-Reinforcement Learning
}
\input{learningtoadapt/appendix}

\end{document}
